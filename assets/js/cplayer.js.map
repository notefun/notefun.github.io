{"version":3,"sources":["webpack://cplayer-umd/webpack/universalModuleDefinition","webpack://cplayer-umd/webpack/bootstrap","webpack://cplayer-umd/./src/lib/playmode/listloop.ts","webpack://cplayer-umd/./src/defaultposter.jpg","webpack://cplayer-umd/(webpack)/buildin/global.js","webpack://cplayer-umd/./node_modules/events/events.js","webpack://cplayer-umd/./src/lib/index.ts","webpack://cplayer-umd/./node_modules/timers-browserify/main.js","webpack://cplayer-umd/./node_modules/setimmediate/setImmediate.js","webpack://cplayer-umd/./node_modules/process/browser.js","webpack://cplayer-umd/./src/lib/polyfill.js","webpack://cplayer-umd/./src/lib/helper/shallowEqual.ts","webpack://cplayer-umd/./src/lib/lyric.ts","webpack://cplayer-umd/./src/lib/playmode/singlecycle.ts","webpack://cplayer-umd/./src/lib/playmode/listrandom.ts","webpack://cplayer-umd/./src/lib/mediaSession.ts","webpack://cplayer-umd/./src/lib/view.ts","webpack://cplayer-umd/./src/lib/helper/returntypeof.ts","webpack://cplayer-umd/./src/cplayer.html","webpack://cplayer-umd/./src/playicon.svg","webpack://cplayer-umd/./src/scss/cplayer.scss","webpack://cplayer-umd/./node_modules/css-loader/dist/runtime/api.js","webpack://cplayer-umd/./node_modules/css-loader/dist/runtime/getUrl.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","baseRemoveMusic","item","playlist","nowpoint","newpoint","targetPoint","needupdate","forEach","a","index","splice","listloopPlaymode","point","__playlist","this","to","nextPoint","prevPoint","Math","max","min","length","push","res","g","Function","e","ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","EventEmitter","init","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","events","existing","warning","newListener","emit","unshift","warned","w","Error","String","emitter","count","console","warn","onceWrapper","fired","removeListener","wrapFn","arguments","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","arr","ret","Array","unwrapListeners","arrayClone","listenerCount","copy","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","err","message","context","handler","len","listeners","addListener","on","prependListener","once","prependOnceListener","list","position","originalListener","shift","pop","spliceOne","off","removeAllListeners","keys","rawListeners","eventNames","cplayerView","default","defaultOption","volume","playmode","autoplay","playmodes","listloop","singlecycle","singlecyclePlaymode","listrandom","listrandomPlaymode","playlistPreFilter","map","audio","lyric","replace","trim","decodeLyricStr","sublyric","cplayer","options","__paused","playmodeName","_volume","eventHandlers","handlePlay","pause","handlePlaying","audioElement","currentTime","handleTimeUpdate","time","duration","playedTime","handleCanPlayThrough","handlePause","ended","play","catch","log","handleEnded","next","handlePlayListChange","handlePlaymodeChange","handleLoadeddata","view","cplayerMediaSessionPlugin","setImmediate","openAudio","setVolume","element","addEventListener","removeEventListener","percentage","parseFloat","toString","paused","readyState","nowplay","audioElementType","removeEventEmitter","src","document","createElement","HTMLVideoElement","loop","poster","setAttribute","initializeEventEmitter","Audio","setMode","nowplaypoint","Forced","isPlaying","me","createEvent","initMouseEvent","getElementsByClassName","dispatchEvent","id","prev","addMusic","needUpdate","removeMusic","destroy","__proto__","now","querySelectorAll","attributes","getNamedItem","generateBeforeElement","deleteElementAfterGenerate","JSON","parse","innerHTML","self","Timeout","clearFn","_id","_clearFn","setTimeout","scope","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","global","clearImmediate","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","process","handle","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","event","data","port2","documentElement","script","onreadystatechange","removeChild","appendChild","random","source","indexOf","slice","attachEvent","callback","task","run","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","array","noop","title","browser","env","argv","version","versions","binding","cwd","chdir","dir","umask","assign","varArgs","nextSource","nextKey","writable","configurable","hasOwn","is","x","y","objA","objB","keysA","keysB","Lyric","items","raw","reduce","decodeLyricStrItem","lyricItemStr","timestr","match","word","exec","z","parseInt","lyricStr","split","lyricStrItem","randomPoint","floor","defaultPoster","mediaMetadata","MediaMetadata","artist","album","artwork","sizes","player","navigator","mediaSession","metadata","setActionHandler","htmlTemplate","playIcon","style","kanaFilter","str","startflag","ch","charAt","kano","test","buildLyric","zoomOutKana","center","secondNumber2TimeStr","secondTime","padStart","body","showPlaylist","showPlaylistButton","dropDownMenuMode","width","size","shadowDom","big","createStyleElement","styleElement","elementLinks","getElementLinks","dropDownMenuShowInfo","__OldVolume","__OldLyric","__OldTotalTime","handleShowPlaylist","handlePosterClick","lyricContainer","display","setProperty","opacity","handlePlaylistchange","updatePlaylist","handleClickListButton","toggleDropDownMenu","handleClickModeButton","toggleMode","handleClickPlayList","handleClickPlayButton","togglePlayState","handleClickVolumeButton","toggleVolumeControllerKeepShow","handleOpenAudio","setPoster","setProgress","innerText","updateLyric","handleModeChange","handleVolumeChange","handleClickPrevButton","handleClickNextButton","handlePlayStateChange","setPlayIcon","handleMouseVolumeController","removeVolumeControllerKeepShow","buttons","which","clientX","volumeController","getBoundingClientRect","left","clientWidth","handleTouchVolumeController","targetTouches","handleAudioElementChange","handleMouseProgress","progress","setCurrentTime","handleTouchProgress","rootElement","targetElement","parentNode","insertBefore","getElementById","firstChild","createBeforeElement","parentElement","fontSize","injectEventListener","showInfo","button","dropDownMenu","classList","add","dark","gebc","className","icon","progressFill","progressButton","progressDuration","progressCurrentTime","volumeFill","volumeControllerButton","volumeControllerContainer","playlistGuide","getElementsByTagName","playlistItems","getPlayListLinks","remove","right","backgroundImage","modeattr","createAttribute","setNamedItem","height","toggle","totalTime","transition","transform","lyricWidth","lyricContainerWidth","targetOffset","timepage","startTime","moveTime","lis","li","injectPlayListEventListener","passive","played","getLyric","sublyricnext","sublyricprev","lyricprev","getPrevLyric","lyricnext","getNextLyric","nextLyric","setLyric","expression","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_REPLACEMENT_0___","useSourceMap","content","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","stringify","sourceURLs","sources","sourceRoot","join","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","_i","url","hash","needQuotes"],"mappings":"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","file":"cplayer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"cplayer-umd\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cplayer-umd\"] = factory();\n\telse\n\t\troot[\"cplayer-umd\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","import { IAudioItem, Iplaymode, Iplaylist } from '../interfaces';\nimport shallowEqual from \"../helper/shallowEqual\";\n\nexport function baseRemoveMusic(item: IAudioItem, playlist: Iplaylist, nowpoint: number, newpoint: (point: number) => number) {\n  let targetPoint: number;\n  let needupdate = false;\n  playlist.forEach((a, index) => {\n    if (shallowEqual(a, item)) {\n      targetPoint = index;\n    }\n  })\n  if (typeof targetPoint !== 'undefined') {\n    playlist.splice(targetPoint, 1);\n    if (nowpoint > targetPoint) {\n      nowpoint--;\n      needupdate = false;\n    } else if (nowpoint === targetPoint) {\n      nowpoint = newpoint(nowpoint);\n      needupdate = true;\n    }\n  }\n  return { playlist, nowpoint, needupdate };\n}\n\nexport class listloopPlaymode implements Iplaymode {\n  private __playlist: Iplaylist = [];\n  private point = 0;\n  get playlist() {\n    return this.__playlist;\n  }\n\n  constructor(playlist: Iplaylist = [], point: number = 0) {\n    this.__playlist = playlist;\n    this.to(point);\n  }\n\n  public next() {\n    this.point = this.nextPoint();\n    return this.playlist[this.point];\n  }\n\n  public prev() {\n    this.point = this.prevPoint();\n    return this.playlist[this.point];\n  }\n\n  public now() {\n    return this.playlist[this.point];\n  }\n\n  public nowpoint() {\n    return this.point\n  }\n\n  public to(point: number) {\n    this.point = Math.max(0, Math.min(point, this.__playlist.length - 1));\n  }\n\n  public addMusic(item: IAudioItem) {\n    this.__playlist.push(item);\n  }\n\n  private nextPoint() {\n    let res = this.point + 1;\n    if (res >= this.__playlist.length) {\n      res = 0;\n    }\n    return res;\n  }\n\n  private prevPoint() {\n    let res = this.point - 1;\n    if (res < 0) {\n      res = this.__playlist.length - 1\n    }\n    return res;\n  }\n\n  public removeMusic(item: IAudioItem) {\n    let { playlist, nowpoint, needupdate } = baseRemoveMusic(item, this.__playlist, this.point, (point) => Math.max(0, Math.min(point, this.__playlist.length - 1)))\n    this.__playlist = playlist;\n    this.point = nowpoint;\n    return needupdate;\n  }\n}","module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAAiACIDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAcDBAUG/8QALhAAAgEDAwIFAwMFAAAAAAAAAQIDAAQRBRIhE0EGIjFRkRQzYTI1cXOBocHR/8QAGAEAAwEBAAAAAAAAAAAAAAAAAQIDBAX/xAAiEQACAQMCBwAAAAAAAAAAAAAAAQIDETESFAQhIkFRYWL/2gAMAwEAAhEDEQA/AGBo7mOKMEBjgc4rqLaRWXG1fgUttA1qNbnpPdGV5mIRRhkiKgeTjkE5J5/1W9pniH6jVbuPdiO2gJwHG13B5wcc44+a5tPpNM4N3OwlC45RfgVlXMA2t5E/nFVZ/EEaWVlcmJmjuDHnDAdIP6MR3GSBx71Fe37LbSSKylVIyNwyM002IotGc2N7cr6+1FYTXu5iepKcnP66KzF9AoBfQ2LmzgWWJp3L72A8rNt2kY5x/wBrtfD+oSXkQ6k8iQSRuJVjwr78DcATx6YyfYehNcbsttTkayGoiGcPuh3REo2FG0bt2R6e3fvVW2vulYSSMPND9vk46jcA/Ab/ABXTlBSXsCnpvfAydb8TR3eg7bMrGrStB1c8r0wTsP4PDKe/OeRUXiPxFLBojump6fFcTtGFeCTDHaoJyMe5A70uYte+n097Z7eK6EjA4mJCptXAK7SOcE1S1a9jvbqNoYzFCkSIiFtxGBzk9znvQXD81cV1kkMSAWDQRt9bMuVB272OOPTOKKVu4+5+aKO2+gbleC5bfusf9U1ctlB1RYiAYy/Kn0P9qKKtLIkMGfeKBdkAADjgVFcffYdgcD8UUU6JPuR0UUURT//Z\"","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","require('./polyfill')\nimport { listloopPlaymode } from './playmode/listloop';\nimport { IAudioItem, Iplaymode, IplaymodeConstructor, Iplaylist } from './interfaces';\nimport { EventEmitter } from 'events';\nimport View, { ICplayerViewOption } from './view';\nimport { decodeLyricStr } from \"./lyric\";\nimport { singlecyclePlaymode } from \"./playmode/singlecycle\";\nimport { listrandomPlaymode } from \"./playmode/listrandom\";\nimport shallowEqual from \"./helper/shallowEqual\";\nimport { cplayerMediaSessionPlugin } from \"./mediaSession\";\n\nlet cplayerView:typeof View = undefined;\n\nif (!process.env.cplayer_noview) {\n  cplayerView = require('./view').default;\n}\n\nexport interface ICplayerOption {\n  playlist?: Iplaylist;\n  playmode?: string;\n  volume?: number;\n  point?: number;\n  autoplay?: boolean;\n}\n\nconst defaultOption: ICplayerOption = {\n  playlist: [],\n  point: 0,\n  volume: 1,\n  playmode: 'listloop',\n  autoplay: false\n}\n\nconst playmodes: { [key: string]: IplaymodeConstructor } = {\n  listloop: listloopPlaymode,\n  singlecycle: singlecyclePlaymode,\n  listrandom: listrandomPlaymode\n}\n\nfunction playlistPreFilter(playlist: Iplaylist) {\n  return playlist.map((audio, index) => {\n    let res = {\n      ...audio\n    };\n    if (typeof audio.lyric === 'string' && audio.lyric.replace(/\\n+/gi, \"\\n\").trim()) {\n      res.lyric = decodeLyricStr(audio.lyric)\n    }\n    if (typeof audio.sublyric === 'string' && audio.sublyric.replace(/\\n+/gi, \"\\n\").trim()) {\n      res.sublyric = decodeLyricStr(audio.sublyric)\n    }\n    return res;\n  })\n}\n\nexport default class cplayer extends EventEmitter {\n  private __paused = true;\n  public view: View;\n  public audioElement: HTMLAudioElement | HTMLVideoElement;\n  private playmode: Iplaymode;\n  private playmodeName: string = 'listloop';\n  private audioElementType: string;\n  private _volume: number = 0;\n  set mode(playmode: string) {\n    this.setMode(playmode);\n  }\n  set volume(volume: number) {\n    this.setVolume(volume);\n  }\n  get volume() {\n    return this._volume\n  }\n  get mode() {\n    return this.playmodeName;\n  }\n  get playlist() {\n    return this.playmode.playlist;\n  }\n  get nowplay() {\n    return this.playmode && this.playmode.now();\n  }\n  get nowplaypoint() {\n    return this.playmode && this.playmode.nowpoint();\n  }\n  get played() {\n    return !this.__paused;\n  }\n  get paused() {\n    return this.__paused;\n  }\n  get duration() {\n    if (this.audioElement) {\n      return this.audioElement.duration;\n    }\n    return 0;\n  }\n  get currentTime() {\n    if (this.audioElement) {\n      return this.audioElement.currentTime;\n    }\n    return 0;\n  }\n\n  constructor(options: ICplayerOption & ICplayerViewOption) {\n    super();\n    options = {\n      ...defaultOption,\n      ...options\n    }\n    this.playmode = new playmodes[options.playmode](playlistPreFilter(options.playlist), options.point);\n    if (!process.env.cplayer_noview)this.view = new cplayerView(this, options);\n    cplayerMediaSessionPlugin(this);\n    // 同步调用会导致，用户的事件得不到触发\n    setImmediate(() => {\n      this.openAudio();\n      this.setVolume(options.volume);\n      if (options.autoplay && this.playlist.length > 0) {\n        this.play(true).catch((e) => {\n          console.log(e);\n          this.pause();\n        });\n      }\n    });\n  }\n\n  private initializeEventEmitter(element: HTMLElement) {\n    const a = element.addEventListener.bind(element);\n    const e = this.eventHandlers;\n    a('timeupdate', e.handleTimeUpdate);\n    a('canplaythrough', e.handleCanPlayThrough);\n    a('pause', e.handlePause);\n    a('play', e.handlePlay);\n    a('playing', e.handlePlaying)\n    a('ended', e.handleEnded);\n    a('loadeddata', e.handleLoadeddata);\n  }\n\n  private removeEventEmitter(element: HTMLElement) {\n    const r = element.removeEventListener.bind(element);\n    const e = this.eventHandlers;\n    r('timeupdate', e.handleTimeUpdate);\n    r('canplaythrough', e.handleCanPlayThrough);\n    r('pause', e.handlePause);\n    r('play', e.handlePlay);\n    r('playing', e.handlePlaying)\n    r('ended', e.handleEnded);\n    r('loadeddata', e.handleLoadeddata);\n  }\n\n  private eventHandlers: { [key: string]: (...args: any[]) => void } = {\n    handlePlay: (...args) => {\n      if (this.__paused) {\n        this.pause();\n      }\n    },\n    handlePlaying: (...args) => {\n      if (this.audioElement.currentTime === 0) {\n        this.emit('started');\n      }\n    },\n    handleTimeUpdate: (...args) => {\n      let time = this.audioElement.duration;\n      let playedTime = this.audioElement.currentTime;\n      this.emit('timeupdate', playedTime, time);\n    },\n    handleCanPlayThrough: (...args) => {\n      this.emit('canplaythrough', ...args);\n    },\n    handlePause: (...args) => {\n      if (!this.__paused && !this.audioElement.ended) {\n        this.play(true).catch((e) => {\n          console.log(e);\n          this.pause();\n        });\n      }\n    },\n    handleEnded: (...args) => {\n      this.emit('ended', ...args);\n      if (!this.__paused) {\n        this.next();\n      }\n    },\n    handlePlayListChange: (...args) => {\n      this.emit('playlistchange', ...args);\n    },\n    handlePlaymodeChange: (mode: string = this.mode) => {\n      this.emit('playmodechange', mode);\n    },\n    handleLoadeddata: (...args) => {\n      let time = this.audioElement.duration;\n      let playedTime = this.audioElement.currentTime;\n      this.emit('timeupdate', playedTime, time);\n    }\n  }\n\n  public setCurrentTime(currentTime: number | string) {\n    if (typeof currentTime === 'string') {\n      currentTime.trim();\n      if (currentTime[currentTime.length - 1] === '%') {\n        const percentage = parseFloat(currentTime);\n        currentTime = this.duration * (percentage / 100);\n      }\n    }\n    if (this.audioElement) {\n      this.audioElement.currentTime = parseFloat(currentTime.toString());\n    }\n  }\n\n  private isPlaying() {\n    return !!this.audioElement && this.audioElement.currentTime > 0 && !this.audioElement.paused && !this.audioElement.ended && this.audioElement.readyState > 2;\n  }\n\n  public openAudio(audio: IAudioItem = this.nowplay) {\n    if (audio) {\n      if (audio.type === 'video') {\n        if (!(this.audioElementType === 'HTMLVideoElement')) {\n          if(typeof this.audioElement !== 'undefined') {\n            this.removeEventEmitter(this.audioElement);\n            this.audioElement.src = '';\n          }\n          this.audioElement = document.createElement('video');\n          if (this.audioElement instanceof HTMLVideoElement) {\n            this.audioElementType = 'HTMLVideoElement';\n            this.audioElement.loop = false;\n            this.audioElement.autoplay = false;\n            this.audioElement.poster = audio.poster;\n            this.audioElement.setAttribute('playsinline', 'true');\n            this.audioElement.setAttribute('webkit-playsinline', 'true');\n          }\n          this.initializeEventEmitter(this.audioElement);\n          this.emit('audioelementchange', this.audioElement);\n        }\n      } else { \n        if (!(this.audioElementType === 'HTMLAudioElement')) {\n          if(typeof this.audioElement !== 'undefined') { \n            this.removeEventEmitter(this.audioElement);\n            this.audioElement.src = '';\n          }\n          this.audioElement = new Audio();\n          this.audioElementType = 'HTMLAudioElement';\n          this.audioElement.loop = false;\n          this.audioElement.autoplay = false;\n          this.initializeEventEmitter(this.audioElement);\n          this.emit('audioelementchange', this.audioElement);\n        }\n      }\n      this.setVolume(this.volume);\n      this.audioElement.src = this.nowplay.src;\n      this.emit('openaudio', audio);\n      if (!this.__paused) {\n        this.play();\n      }\n    }\n  }\n\n  public toggleMode() {\n    switch (this.playmodeName) {\n      case 'listloop': this.setMode('singlecycle'); break;\n      case 'singlecycle': this.setMode('listrandom'); break;\n      case 'listrandom': this.setMode('listloop'); break;\n    }\n  }\n\n  public setMode(playmode: string) {\n    if (typeof playmode === 'string') {\n      if (this.playmodeName !== playmode) {\n        if (playmodes[playmode]) {\n          this.playmode = new playmodes[playmode](this.playlist, this.nowplaypoint);\n          this.playmodeName = playmode;\n          this.eventHandlers.handlePlaymodeChange();\n        }\n      }\n    }\n  }\n\n  public getMode() {\n    return this.mode;\n  }\n\n  public play(Forced: boolean = false) {\n    let isPlaying = this.isPlaying();\n    let res;\n    if (!isPlaying && this.playlist.length > 0 || Forced) {\n      var me=document.createEvent(\"MouseEvent\");\n      me.initMouseEvent(\"click\",true,true,window,0,0,0,0,0,false,false,false,false,0,null);\n      document.getElementsByClassName('cp-play-button')[0].dispatchEvent(me);\n      res = this.audioElement.play();\n    }\n    if (this.__paused) {\n      this.__paused = false;\n      this.emit('playstatechange', this.__paused);\n      this.emit('play');\n    }\n    return res;\n  }\n\n  public pause(Forced: boolean = false) {\n    let isPlaying = this.isPlaying();\n    if (isPlaying && this.playlist.length > 0 || Forced) {\n      this.audioElement.pause();\n    }\n    if (!this.__paused) {\n      this.__paused = true;\n      this.emit('playstatechange', this.__paused);\n      this.emit('pause');\n    }\n  }\n\n  public to(id: number) {\n    this.playmode.to(id);\n    this.openAudio();\n  }\n\n  public next() {\n    this.playmode.next();\n    this.openAudio();\n  }\n\n  public prev() {\n    this.playmode.prev();\n    this.openAudio();\n  }\n\n  public togglePlayState() {\n    if (this.__paused) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  }\n\n  public add(item: IAudioItem) {\n    item = (playlistPreFilter([item] as Iplaylist))[0];\n    this.playmode.addMusic(item);\n    this.eventHandlers.handlePlayListChange();\n    if (this.playlist.length === 1) {\n      this.to(0);\n    }\n  }\n\n  public remove(item: IAudioItem) {\n    let needUpdate = this.playmode.removeMusic(item);\n    this.eventHandlers.handlePlayListChange();\n    if (needUpdate) {\n      this.openAudio();\n    }\n  }\n\n  public setVolume(volume: number | string) {\n    this._volume = parseFloat(volume as string);\n    if (this.audioElement)\n      this.audioElement.volume = Math.max(0.0, Math.min(1.0, this._volume));\n    this.emit('volumechange', this.volume);\n  }\n\n  public destroy() {\n    if (this.audioElement) {\n      this.audioElement.src = null;\n      this.audioElement.removeEventListener(\"timeupdate\", this.eventHandlers.handleTimeUpdate);\n      this.removeAllListeners();  \n    }\n    if (this.view) this.view.destroy();\n    Object.getOwnPropertyNames(this).forEach((name: keyof cplayer) => delete this[name]);\n    (this as any).__proto__ = Object;\n  }\n}\n\nif (!process.env.cplayer_noview) {\n  function parseCPlayerTag() {\n    Array.prototype.forEach.call(document.querySelectorAll('template[cplayer]'),(element: Element) => {\n      element.attributes.getNamedItem('loaded') ||\n        new cplayer({\n          generateBeforeElement: true,\n          deleteElementAfterGenerate: true,\n          element,\n          ...JSON.parse(element.innerHTML)\n        })\n    })\n  }\n\n  window.addEventListener(\"load\", parseCPlayerTag);\n}\n\n(window as any).cplayer = cplayer;","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","if (typeof Object.assign != 'function') {\n    // Must be writable: true, enumerable: false, configurable: true\n    Object.defineProperty(Object, \"assign\", {\n        value: function assign(target, varArgs) { // .length of function is 2\n            'use strict';\n            if (target == null) { // TypeError if undefined or null\n                throw new TypeError('Cannot convert undefined or null to object');\n            }\n\n            var to = Object(target);\n\n            for (var index = 1; index < arguments.length; index++) {\n                var nextSource = arguments[index];\n\n                if (nextSource != null) { // Skip over if undefined or null\n                    for (var nextKey in nextSource) {\n                        // Avoid bugs when hasOwnProperty is shadowed\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                            to[nextKey] = nextSource[nextKey];\n                        }\n                    }\n                }\n            }\n            return to;\n        },\n        writable: true,\n        configurable: true\n    });\n}","const hasOwn = Object.prototype.hasOwnProperty\n\nfunction is(x: any, y: any) {\n  if (x == y) {\n    return x != 0 || y != 0 || 1 / x == 1 / y\n  } else {\n    return x != x && y != y\n  }\n}\n\nexport default function shallowEqual(objA: any, objB: any) {\n  if (is(objA, objB)) return true\n\n  if (typeof objA !== 'object' || objA === null ||\n      typeof objB !== 'object' || objB === null) {\n    return false\n  }\n\n  const keysA = Object.keys(objA)\n  const keysB = Object.keys(objB)\n\n  if (keysA.length !== keysB.length) return false\n\n  for (let i = 0; i < keysA.length; i++) {\n    if (!hasOwn.call(objB, keysA[i]) ||\n        !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false\n    }\n  }\n\n  return true\n}","export interface ILyricItem {\n  time: number;\n  word: string;\n}\n\n\nexport class Lyric {\n  raw: string;\n  items: ILyricItem[] = [];\n  public getLyric(time: number) {\n    return this.items.reduce((p, c) => {\n      if (c.time < time && (!p || p.time < c.time)) {\n        return c;\n      }\n      return p;\n    }, undefined)\n  }\n  public getPrevLyric(time: number) {\n    time--;\n    return this.items.reduce((p, c) => {\n      if (c.time < time && (!p || p.time < c.time)) {\n        return c;\n      }\n      return p;\n    }, undefined)\n  }\n  public getNextLyric(time: number) {\n    return this.items.reduce((p, c) => {\n      if (c.time > time && (!p || p.time > c.time)) {\n        return c;\n      }\n      return p;\n    }, undefined)\n  }\n  \n  public toString() {\n    return this.raw;\n  }\n  constructor(items: ILyricItem[] ,raw: string) {\n    this.items = items;\n    this.raw = raw;\n  }\n}\n\nexport function decodeLyricStr(lyricStr: string, options?: {}) {\n  if (typeof lyricStr !== 'string') return lyricStr;\n  let lyric: ILyricItem[] = [];\n  // lyric.push({time:0,word:\"\"});\n  lyricStr.replace(/\\n+/gi, \"\\n\").trim().split(\"\\n\").forEach((lyricStrItem) => {\n    lyric.push(...decodeLyricStrItem(lyricStrItem));\n  });\n  if (lyric.length == 0) return undefined;\n  return new Lyric(lyric, lyricStr);\n}\n\nexport function decodeLyricStrItem(lyricItemStr: string): ILyricItem[] {\n  let res: ILyricItem[] = [];\n  let timestr = lyricItemStr.match(/\\[\\d+\\:[\\.\\d]+\\]/gi);\n  let word = /(?:\\[\\d+\\:[\\.\\d]+\\])*(.*)/gi.exec(lyricItemStr)[1].trim()\n  if (timestr && word) {\n    timestr.forEach((timestr) => {\n      let z = /\\[(\\d+)\\:([\\.\\d]+)\\]/gi.exec(timestr.trim());\n      let time = parseInt(z[1]) * 60 * 1000 + parseFloat(z[2]) * 1000;\n      res.push({\n        time,\n        word\n      });\n    })\n  }\n  return res;\n}","import { IAudioItem, Iplaymode, Iplaylist } from '../interfaces';\nimport shallowEqual from \"../helper/shallowEqual\";\nimport { baseRemoveMusic } from \"./listloop\";\n\nexport class singlecyclePlaymode implements Iplaymode {\n  private __playlist: Iplaylist = [];\n  private audio: IAudioItem;\n  private point: number;\n  get playlist() {\n    return this.__playlist;\n  }\n\n  constructor(playlist: Iplaylist = [], point: number = 0) {\n    this.__playlist = playlist;\n    this.to(point);\n  }\n\n  public next() {\n    return this.__playlist[this.point];\n  }\n\n  public prev() {\n    return this.__playlist[this.point];\n  }\n\n  public now() {\n    return this.__playlist[this.point];\n  }\n\n  public nowpoint() {\n    return this.point;\n  }\n\n  public to(point: number) {\n    this.point = Math.max(0, Math.min(point, this.__playlist.length - 1));\n  }\n\n  public addMusic(item: IAudioItem) {\n    this.__playlist.push(item);\n  }\n\n  public removeMusic(item: IAudioItem) {\n    let {playlist,nowpoint,needupdate} = baseRemoveMusic(item, this.__playlist, this.point, (point) => Math.max(0, Math.min(point, this.__playlist.length - 1)))\n    this.__playlist = playlist;\n    this.point = nowpoint;\n    return needupdate;\n  }\n}","import { IAudioItem, Iplaymode, Iplaylist } from '../interfaces';\nimport shallowEqual from \"../helper/shallowEqual\";\nimport { baseRemoveMusic } from \"./listloop\";\n\nexport class listrandomPlaymode implements Iplaymode {\n  private __playlist: Iplaylist = [];\n  private point = 0;\n  get playlist() {\n    return this.__playlist;\n  }\n\n  constructor(playlist: Iplaylist = [], point: number = 0) {\n    this.__playlist = playlist;\n    this.to(point);\n  }\n\n  public next() {\n    this.point = this.randomPoint();\n    return this.__playlist[this.point];\n  }\n\n  public prev() {\n    this.point = this.randomPoint();\n    return this.__playlist[this.point];\n  }\n\n  public now() {\n    return this.__playlist[this.point];\n  }\n\n  public nowpoint() {\n    return this.point;\n  }\n\n  public to(point: number) {\n    this.point = Math.max(0, Math.min(point, this.__playlist.length - 1));\n  }\n\n  public addMusic(item:IAudioItem){\n    this.__playlist.push(item);\n  }\n\n  private randomPoint(): number {\n    if (this.__playlist.length > 1) {\n      let random = Math.floor(this.__playlist.length * Math.random());\n      if (random === this.point) {\n        return this.randomPoint();\n      } else {\n        return random;\n      }\n    } else return 0;\n  }\n\n  public removeMusic(item: IAudioItem) {\n    let {playlist,nowpoint,needupdate} = baseRemoveMusic(item, this.__playlist, this.point, (point) => this.randomPoint())\n    this.__playlist = playlist;\n    this.point = nowpoint;\n    return needupdate;\n  }\n}","import cplayer from './';\nimport { IAudioItem } from '../lib/interfaces';\n\nconst defaultPoster = require('../defaultposter.jpg')\n\nexport function cplayerMediaSessionPlugin(player: cplayer)\n{\n  if ('mediaSession' in navigator) {\n    if (player.nowplay) navigator.mediaSession.metadata = mediaMetadata(player.nowplay);\n    navigator.mediaSession.setActionHandler('play', () => player.play());\n    navigator.mediaSession.setActionHandler('pause', () => player.pause());\n    navigator.mediaSession.setActionHandler('previoustrack', () => player.prev());\n    navigator.mediaSession.setActionHandler('nexttrack', () => player.next());\n    player.on('openaudio', () => {\n      navigator.mediaSession.metadata = mediaMetadata(player.nowplay);\n    })\n  }\n}\n\nexport function mediaMetadata(audio: IAudioItem) {\n  return new MediaMetadata({\n    title: audio.name,\n    artist: audio.artist,\n    album: audio.album,\n    artwork: [\n      {\n        sizes: '720x720',\n        src: audio.poster || defaultPoster\n      }\n    ]\n  });\n}\n","import { IAudioItem } from './interfaces';\nimport cplayer from './';\nimport returntypeof from './helper/returntypeof';\nimport { EventEmitter } from 'events';\nimport parseHTML from \"./helper/parseHTML\";\nimport { ILyricItem } from \"./lyric\";\n\nconst defaultPoster = require('../defaultposter.jpg')\nconst htmlTemplate = require('../cplayer.html');\nconst playIcon = require('../playicon.svg');\nconst style = require('!css-loader!postcss-loader!sass-loader!../scss/cplayer.scss');\n\nfunction kanaFilter(str: string) {\n  const starttag = '<span class=\"cp-lyric-text-zoomout\">';\n  const endtag = '</span>';\n  let res = '';\n  let startflag = false;\n  for (let i = 0; i < str.length; i++) {\n    let ch = str.charAt(i);\n    let kano = /[ぁ-んァ-ン]/.test(ch);\n    if (kano && !startflag) {\n      res += starttag;\n      startflag = true;\n    }\n    if (!kano && startflag) {\n      res += endtag;\n      startflag = false;\n    }\n    res += ch;\n  }\n  if (startflag) {\n    res += endtag;\n  }\n  return res;\n}\n\nfunction buildLyric(lyric: string, sublyric?: string, zoomOutKana: boolean = false, center = false) {\n  if (center) {\n    return `<span class=\"cp-lyric-text\">` + (zoomOutKana ? kanaFilter(lyric) : lyric) + `</span>` + (sublyric ? `<span class=\"cp-lyric-text-sub\">${sublyric}</span>` : '')\n  } else {\n    return `<span class=\"cp-lyric-smalltext\">` + (zoomOutKana ? kanaFilter(lyric) : lyric) + `</span>` + (sublyric ? `<span class=\"cp-lyric-smalltext-sub\">${sublyric}</span>` : '')\n  }\n}\n\nfunction secondNumber2TimeStr(secondTime: number) {\n  const minute: string = parseInt((secondTime / 60).toString()).toString().padStart(2, '0');\n  const second: string = parseInt((secondTime % 60).toString()).toString().padStart(2, '0');\n  return minute + ':' + second;\n}\n\nexport interface ICplayerViewOption {\n  element?: Element;\n  generateBeforeElement?: boolean;\n  deleteElementAfterGenerate?: boolean;\n  zoomOutKana?: boolean;\n  showPlaylist?: boolean;\n  showPlaylistButton?: boolean;\n  width?: string;\n  size?: string;\n  style?: string;\n  dark?: boolean;\n  big?: boolean;\n  shadowDom?: boolean;\n  dropDownMenuMode?: 'bottom' | 'top' | 'none' | string;\n}\n\nconst defaultOption: ICplayerViewOption = {\n  element: document.body,\n  generateBeforeElement: false,\n  deleteElementAfterGenerate: false,\n  zoomOutKana: false,\n  showPlaylist: false,\n  showPlaylistButton: true,\n  dropDownMenuMode: 'bottom',\n  width: '',\n  size: '12px',\n  style: '',\n  shadowDom: true,\n  big: true,\n}\n\n\nfunction createStyleElement(style: string) {\n  const styleElement = document.createElement('style');\n  styleElement.id = 'cplayer-style';\n  styleElement.innerHTML = style;\n  return styleElement;\n}\n\nfunction createShadowElement(targetElement: Element, htmlTemplate: string, style: string) {\n  let shadowRoot = (targetElement as any).createShadowRoot() as ShadowRoot;\n  shadowRoot.innerHTML = htmlTemplate;\n  shadowRoot.appendChild(createStyleElement(style));\n  return shadowRoot.firstChild as HTMLElement;\n}\n\nfunction createBeforeElement(targetElement: Element, htmlTemplate: string, style: string) {\n  let element = document.createElement('div');\n  element.innerHTML = htmlTemplate;\n  targetElement.parentNode.insertBefore(element, targetElement);\n  if (!document.getElementById('cplayer-style')) {\n    document.body.appendChild(createStyleElement(style));\n  }\n  return element.firstChild as HTMLElement;\n}\n\nfunction createBeforeShadowElement(targetElement: Element, htmlTemplate: string, style: string) {\n  let element = document.createElement('div');\n  let shadowRoot = (element as any).createShadowRoot() as ShadowRoot;\n  shadowRoot.innerHTML = htmlTemplate;\n  shadowRoot.appendChild(createStyleElement(style));\n  targetElement.parentNode.insertBefore(element, targetElement);\n  return shadowRoot.firstChild as HTMLElement;\n}\n\nfunction createElement(targetElement: Element, htmlTemplate: string, style: string) {\n  if (targetElement != null)\n    targetElement.innerHTML = htmlTemplate;\n  if (!document.getElementById('cplayer-style')) {\n    document.body.appendChild(createStyleElement(style));\n  }\n  if (targetElement == null) return null;\n  return targetElement.firstChild as HTMLElement;\n}\n\nexport default class cplayerView extends EventEmitter {\n  private elementLinks = returntypeof(this.getElementLinks);\n  private rootElement: HTMLElement;\n  private player: cplayer;\n  private dropDownMenuShowInfo = true;\n  private options: ICplayerViewOption;\n\n  constructor(player: cplayer, options: ICplayerViewOption) {\n    super();\n    this.options = {\n      ...defaultOption,\n      ...options\n    };\n    this.player = player;\n    if (this.options.generateBeforeElement) {\n\n      this.rootElement = createBeforeElement(this.options.element, htmlTemplate, style + this.options.style);\n\n    } else {\n\n      this.rootElement = createElement(this.options.element, htmlTemplate, style + this.options.style);\n\n    }\n    if (options.deleteElementAfterGenerate) {\n      options.element.parentElement.removeChild(options.element);\n    }\n    if (this.rootElement) {\n      this.rootElement.style.width = this.options.width;\n      this.rootElement.style.fontSize = this.options.size;\n\n      this.elementLinks = this.getElementLinks();\n\n      this.injectEventListener();\n      this.setPlayIcon(this.player.paused);\n      this.dropDownMenuShowInfo = !this.options.showPlaylist;\n      if (this.dropDownMenuShowInfo) {\n        this.showInfo();\n      } else this.showPlaylist();\n      if (!this.options.showPlaylistButton)\n        this.elementLinks.button.list.style.display = 'none';\n      else\n        this.elementLinks.button.list.style.display = '';\n      this.elementLinks.dropDownMenu.classList.add('cp-drop-down-menu-' + this.options.dropDownMenuMode)\n      if (this.options.dark) {\n        this.dark();\n      }\n      if (this.options.big) {\n        this.big();\n      }\n\n      // this.setPoster(this.player.nowplay.poster || defaultPoster);\n      this.setProgress(this.player.currentTime / this.player.duration,\n        this.player.currentTime,\n        this.player.duration);\n      // this.elementLinks.title.innerText = this.player.nowplay.name;\n      // this.elementLinks.artist.innerText = this.player.nowplay.artist || '';\n      this.updateLyric();\n      this.updatePlaylist();\n    }\n  }\n\n  public getRootElement() {\n    return this.rootElement;\n  }\n\n  public dark() {\n    this.rootElement.classList.add('cp-dark');\n  }\n\n  public big() {\n    this.rootElement.classList.add('cp-big');\n  }\n\n  private getPlayListLinks(rootElement: Element = this.rootElement) {\n    return rootElement.querySelectorAll('.cp-playlist li');\n  }\n\n  private getElementLinks(rootElement: Element = this.rootElement) {\n    let gebc: (className: string) => Element = className => rootElement.getElementsByClassName(className)[0];\n    return {\n      icon: {\n        play: gebc('cp-play-icon') as HTMLElement,\n        mode: gebc('cp-mode-icon') as HTMLElement,\n      },\n      button: {\n        prev: gebc('cp-prev-button') as HTMLElement,\n        play: gebc('cp-play-button') as HTMLElement,\n        next: gebc('cp-next-button') as HTMLElement,\n        volume: gebc('cp-volume-icon') as HTMLElement,\n        list: gebc('cp-list-button') as HTMLElement,\n        mode: gebc('cp-mode-button') as HTMLElement\n      },\n      progress: gebc('cp-progress') as HTMLElement,\n      progressFill: gebc('cp-progress-fill') as HTMLElement,\n      progressButton: gebc('cp-progress-button') as HTMLElement,\n      progressDuration: gebc('cp-progress-duration') as HTMLElement,\n      progressCurrentTime: gebc('cp-progress-current-time') as HTMLElement,\n      poster: gebc('cp-poster') as HTMLElement,\n      title: gebc('cp-audio-title') as HTMLElement,\n      artist: gebc('cp-audio-artist') as HTMLElement,\n      lyric: gebc('cp-lyric-text') as HTMLElement,\n      lyricContainer: gebc('cp-lyric') as HTMLElement,\n      volumeController: gebc('cp-volume-controller') as HTMLElement,\n      volumeFill: gebc('cp-volume-fill') as HTMLElement,\n      volumeControllerButton: gebc('cp-volume-controller-button') as HTMLElement,\n      volumeControllerContainer: gebc('cp-volume-container') as HTMLElement,\n      dropDownMenu: gebc('cp-drop-down-menu') as HTMLElement,\n      playlist: gebc('cp-playlist') as HTMLElement,\n      playlistGuide: (this.rootElement.getElementsByClassName('cp-drop-down-menu')[0]).getElementsByTagName('p')[0] as HTMLElement,\n      playlistItems: this.getPlayListLinks(rootElement)\n    }\n  }\n\n  private setPlayIcon(paused: boolean) {\n    if (paused) {\n      this.elementLinks.icon.play.classList.add('cp-play-icon-paused');\n    } else {\n      this.elementLinks.icon.play.classList.remove('cp-play-icon-paused');\n    }\n  }\n\n  private setProgress(point: number, currentTime: number, duration: number) {\n    this.elementLinks.progressFill.style.width = `${point * 100}%`;\n    this.elementLinks.progressButton.style.right = (1 - point) * 100 + '%';\n    this.elementLinks.progressCurrentTime.innerText = secondNumber2TimeStr(currentTime);\n    this.elementLinks.progressDuration.innerText = secondNumber2TimeStr(duration);\n  }\n\n  private setPoster(src: string) {\n    this.elementLinks.poster.style.backgroundImage = `url(\"${src}\")`;\n  }\n\n  private __OldVolume = 1;\n  private setVolume(volume: number) {\n    if (this.__OldVolume !== volume) {\n      this.elementLinks.volumeFill.style.width = `${volume * 100}%`;\n      this.elementLinks.volumeControllerButton.style.right = (1 - volume) * 100 + '%';\n      this.__OldVolume = volume\n    }\n  }\n\n  private setMode(mode: string) {\n    var modeattr = document.createAttribute('data-mode');\n    modeattr.value = mode;\n    this.elementLinks.button.mode.attributes.setNamedItem(modeattr);\n  }\n\n  public showInfo() {\n\n    let dropDownMenu = this.elementLinks.dropDownMenu;\n    dropDownMenu.style.height = '';\n    dropDownMenu.classList.remove('cp-drop-down-menu-playlist');\n    dropDownMenu.classList.add('cp-drop-down-menu-info');\n\n    this.dropDownMenuShowInfo = true;\n\n    this.elementLinks.playlistGuide.style.opacity = '1';\n    setTimeout(() => {\n      this.elementLinks.playlistGuide.style.display = '';\n    }, 250);\n  }\n\n  public showPlaylist() {\n    this.elementLinks.playlistGuide.style.opacity = '0';\n    setTimeout(() => {\n      this.elementLinks.playlistGuide.style.display = 'none';\n    }, 250); // same as the opacity transition length\n    let dropDownMenu = this.elementLinks.dropDownMenu;\n    dropDownMenu.style.height = this.player.playlist.length * 2.08333 + 'em';\n    dropDownMenu.classList.remove('cp-drop-down-menu-info');\n    dropDownMenu.classList.add('cp-drop-down-menu-playlist');\n    this.dropDownMenuShowInfo = false;\n  }\n\n  public toggleDropDownMenu() {\n    if (this.dropDownMenuShowInfo) {\n      this.showPlaylist();\n    } else {\n      this.showInfo();\n    }\n  }\n\n  private setVolumeControllerKeepShow() {\n    this.elementLinks.volumeControllerContainer.classList.add('cp-volume-container-show');\n  }\n\n  private toggleVolumeControllerKeepShow() {\n    this.elementLinks.volumeControllerContainer.classList.toggle('cp-volume-container-show');\n  }\n\n  private removeVolumeControllerKeepShow() {\n    this.elementLinks.volumeControllerContainer.classList.remove('cp-volume-container-show');\n  }\n\n  private __OldLyric = '';\n  private __OldTotalTime = 0;\n\n  private setLyric(lyric: string, time: number = 0, totalTime: number = 0) {\n    if (this.__OldLyric !== lyric || this.__OldTotalTime !== totalTime) {\n      this.elementLinks.lyric.innerHTML = lyric;\n      this.elementLinks.lyric.style.transition = '';\n      this.elementLinks.lyric.style.transform = '';\n      if (totalTime !== 0) {\n        let lyricWidth = this.elementLinks.lyric.clientWidth;\n        let lyricContainerWidth = this.elementLinks.lyricContainer.clientWidth;\n        if (lyricWidth > lyricContainerWidth) {\n          let duration = totalTime - time;\n          let targetOffset = (lyricWidth - lyricContainerWidth);\n          let timepage = lyricContainerWidth / lyricWidth * duration;\n          let startTime = Math.min(timepage * 0.6, duration);\n          let moveTime = duration - timepage;\n\n          this.elementLinks.lyric.style.transition = `transform ${moveTime}ms linear ${startTime}ms`\n          this.elementLinks.lyric.style.transform = `translateX(-${targetOffset}px)`;\n        }\n      }\n      this.__OldLyric = lyric;\n      this.__OldTotalTime = totalTime;\n    }\n  }\n\n  public updatePlaylist() {\n    var lis = this.player.playlist.map((audio, index) => {\n      var element = document.createElement('li');\n      element.innerHTML = `\n        ${index === this.player.nowplaypoint ? playIcon : '<span class=\"cp-play-icon\"></span>'}\n        <span>${audio.name}</span><span class='cp-playlist-artist'>${audio.artist ? ' - ' + audio.artist : ''}</span>\n      `\n      return element;\n    })\n    this.elementLinks.playlist.innerHTML = '';\n    lis.forEach((li) => {\n      this.elementLinks.playlist.appendChild(li);\n    })\n    this.elementLinks.playlistItems = this.getPlayListLinks();\n    this.injectPlayListEventListener();\n    if (!this.dropDownMenuShowInfo) {\n      this.elementLinks.dropDownMenu.style.height = this.player.playlist.length * 2.08333 + 'em';\n    }\n  }\n\n  private injectPlayListEventListener() {\n    Array.prototype.forEach.call(this.elementLinks.playlistItems, ((i: Element, index: number) => {\n      i.addEventListener('click', (event) => {\n        this.handleClickPlayList(index, event);\n      })\n    }))\n  }\n\n  private injectEventListener() {\n    this.elementLinks.button.play.addEventListener('click', this.handleClickPlayButton);\n    this.elementLinks.button.prev.addEventListener('click', this.handleClickPrevButton);\n    this.elementLinks.button.next.addEventListener('click', this.handleClickNextButton);\n    this.elementLinks.button.volume.addEventListener('click', this.handleClickVolumeButton);\n    this.elementLinks.button.list.addEventListener('click', this.handleClickListButton);\n    this.elementLinks.button.mode.addEventListener('click', this.handleClickModeButton);\n    this.elementLinks.volumeController.addEventListener('mousemove', this.handleMouseVolumeController)\n    this.elementLinks.volumeController.addEventListener('mousedown', this.handleMouseVolumeController)\n    this.elementLinks.volumeController.addEventListener('touchmove', this.handleTouchVolumeController, { passive: true } as any)\n\n    this.elementLinks.progress.addEventListener('mousemove', this.handleMouseProgress)\n    this.elementLinks.progress.addEventListener('mousedown', this.handleMouseProgress)\n    this.elementLinks.progress.addEventListener('touchmove', this.handleTouchProgress, { passive: true } as any)\n\n    this.player.addListener('playstatechange', this.handlePlayStateChange);\n    this.player.addListener('timeupdate', this.handleTimeUpdate);\n    this.player.addListener('openaudio', this.handleOpenAudio);\n    this.player.addListener('volumechange', this.handleVolumeChange);\n    this.player.addListener('playmodechange', this.handleModeChange);\n    this.player.addListener('playlistchange', this.handlePlaylistchange);\n    this.player.addListener('audioelementchange', this.handleAudioElementChange);\n    this.injectPlayListEventListener();\n\n    this.elementLinks.playlistGuide.addEventListener('click', this.handleShowPlaylist);\n\n    this.elementLinks.poster.addEventListener('click', this.handlePosterClick);\n    this.elementLinks.lyricContainer.addEventListener('click', this.handlePosterClick);\n  }\n\n  public handleShowPlaylist = () => {\n    this.showPlaylist()\n    // let dropDownMenu = _this.elementLinks.dropDownMenu;\n    // dropDownMenu.style.height = _this.player.playlist.length * 2.08333 + 'em';\n    // dropDownMenu.classList.remove('cp-drop-down-menu-info');\n    // dropDownMenu.classList.add('cp-drop-down-menu-playlist');\n    // _this.dropDownMenuShowInfo = false;\n  }\n  private handlePosterClick = () => {\n    if (this.elementLinks.lyricContainer.style.display == undefined) {\n      this.elementLinks.lyricContainer.style.setProperty(\"display\", 'flex');\n\n    }\n    if (this.elementLinks.lyricContainer.style.display == 'none') {\n      this.elementLinks.lyricContainer.style.setProperty(\"display\", 'flex');\n      // this.elementLinks.lyricContainer.style.setProperty(\"animation\",'3s ease 1s 1 normal none running opacity');\n      this.elementLinks.lyricContainer.style.setProperty(\"opacity\", '1');\n      // let src= this.elementLinks.poster.style.backgroundImage ;// url(\"1.jpg\")\n      // src=src.split(\"\\\"\")[1]\n      // this.elementLinks.poster.style.backgroundImage = `linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), url(\"${src}\")`;\n      this.elementLinks.poster.style.opacity = \"0.1\";\n    } else if (this.elementLinks.lyricContainer.style.display == '' || this.elementLinks.lyricContainer.style.display == 'flex') {\n      this.elementLinks.lyricContainer.style.setProperty(\"display\", 'none');\n      // this.elementLinks.lyricContainer.style.setProperty(\"animation\",'opacity 0.3s');\n      this.elementLinks.lyricContainer.style.setProperty(\"opacity\", '0');\n      // let src=    this.elementLinks.poster.style.backgroundImage ;// url(\"1.jpg\")\n      // src=src.split(\"\\\"\")[1]\n      // this.elementLinks.poster.style.backgroundImage= `url(\"${src}\")`;\n      this.elementLinks.poster.style.opacity = \"1\";\n    }\n\n  }\n\n  private handlePlaylistchange = () => {\n    this.updatePlaylist()\n  }\n\n  private updateLyric(playedTime: number = 0) {\n    if (!this.player.nowplay) {\n      this.setLyric(\"\");\n      return;\n    }\n\n    if (this.player.nowplay.lyric && typeof this.player.nowplay.lyric !== 'string' && this.player.played) {\n      let lyric = this.player.nowplay.lyric.getLyric(playedTime * 1000);\n      if(lyric!=undefined){\n      let lyricprev = this.player.nowplay.lyric.getPrevLyric(lyric.time);\n      let lyricnext = this.player.nowplay.lyric.getNextLyric(playedTime * 1000);\n      let nextLyric = this.player.nowplay.lyric.getNextLyric(playedTime * 1000);\n      if (lyric) {\n        let sublyric, sublyricnext, sublyricprev: ILyricItem;\n        if (this.player.nowplay.sublyric && typeof this.player.nowplay.sublyric !== 'string') {\n          sublyric = this.player.nowplay.sublyric.getLyric(playedTime * 1000);\n          sublyricnext = this.player.nowplay.sublyric.getNextLyric(playedTime * 1000);\n          sublyricprev = this.player.nowplay.sublyric.getPrevLyric(sublyric ? sublyric.time : 0);\n          // let sublyric3=this.player.nowplay.sublyric.getNextLyric(sublyric2.time);\n        }\n        if (nextLyric) {\n          let duration = nextLyric.time - lyric.time;\n          let currentTime = playedTime * 1000 - lyric.time;\n\n          this.setLyric(buildLyric(lyricprev ? lyricprev.word : \"\", sublyricprev ? sublyricprev.word : undefined, this.options.zoomOutKana) + buildLyric(lyric ? lyric.word : \"\", sublyric ? sublyric.word : undefined, this.options.zoomOutKana, true) + buildLyric(lyricnext ? lyricnext.word : \"\", sublyricnext ? sublyricnext.word : undefined, this.options.zoomOutKana), currentTime, duration);\n        } else {\n          let duration = this.player.duration - lyric.time;\n          let currentTime = playedTime * 1000 - lyric.time;\n          this.setLyric(buildLyric(lyricprev ? lyricprev.word : \"\", sublyricprev ? sublyricprev.word : undefined, this.options.zoomOutKana) + buildLyric(lyric ? lyric.word : \"\", sublyric ? sublyric.word : undefined, this.options.zoomOutKana, true) + buildLyric(\"\", \"\", this.options.zoomOutKana));\n        }\n      } else {\n        // this.setLyric(buildLyric(this.player.nowplay.name, this.player.nowplay.artist, false), playedTime * 1000, nextLyric.time);\n      }}\n    } else {\n      // this.setLyric(buildLyric(this.player.nowplay.name, this.player.nowplay.artist, false));\n    }\n  }\n\n  private handleClickListButton = () => {\n    this.toggleDropDownMenu();\n  }\n\n  private handleClickModeButton = () => {\n    this.player.toggleMode();\n  }\n\n  private handleClickPlayList = (point: number, event: Event) => {\n    if (this.player.nowplaypoint !== point) {\n      this.player.to(point);\n      this.player.play();\n    }\n  }\n\n  private handleClickPlayButton = () => {\n    this.player.togglePlayState();\n  }\n\n  private handleClickVolumeButton = () => {\n    this.toggleVolumeControllerKeepShow();\n  }\n\n  private handleOpenAudio = (audio: IAudioItem) => {\n    if (audio.type !== 'video') {\n      this.setPoster(audio.poster || defaultPoster);\n    } else {\n      this.setPoster('none');\n    }\n    this.setProgress(0, 0, 0);\n    this.elementLinks.title.innerText = audio.name;\n    this.elementLinks.artist.innerText = audio.artist || '';\n    this.updateLyric();\n    this.updatePlaylist();\n  }\n\n  private handleModeChange = (mode: string) => {\n    this.setMode(mode);\n  }\n\n  private handleVolumeChange = (volume: number) => {\n    this.setVolume(volume);\n  };\n\n  private handleTimeUpdate = (playedTime: number, time: number) => {\n    this.setProgress(playedTime / time, playedTime, time);\n    this.updateLyric(playedTime);\n  }\n\n  private handleClickPrevButton = () => {\n    this.player.prev();\n    this.player.play();\n  }\n\n  private handleClickNextButton = () => {\n    this.player.next();\n    this.player.play();\n  }\n\n  private handlePlayStateChange = (paused: boolean) => {\n    this.setPlayIcon(paused);\n  }\n\n  private handleMouseVolumeController = (event: MouseEvent) => {\n    this.removeVolumeControllerKeepShow()\n    if (event.buttons === 1 || typeof event.buttons === 'undefined' && event.which === 1) {\n      let volume = Math.max(0, Math.min(1.0,\n        (event.clientX - this.elementLinks.volumeController.getBoundingClientRect().left) / this.elementLinks.volumeController.clientWidth\n      ));\n      this.player.setVolume(volume);\n      this.setVolume(volume);\n    }\n  };\n\n  private handleTouchVolumeController = (event: TouchEvent) => {\n    this.removeVolumeControllerKeepShow()\n    let volume = Math.max(0, Math.min(1.0,\n      (event.targetTouches[0].clientX - this.elementLinks.volumeController.getBoundingClientRect().left) / this.elementLinks.volumeController.clientWidth\n    ));\n    this.player.setVolume(volume);\n    this.setVolume(volume);\n  };\n\n  private handleAudioElementChange = (element: HTMLAudioElement | HTMLVideoElement) => {\n    if (element instanceof HTMLVideoElement) {\n      this.elementLinks.poster.appendChild(element);\n    }\n    else {\n      this.elementLinks.poster.innerHTML = '';\n    }\n  }\n\n  private handleMouseProgress = (event: MouseEvent) => {\n    if (event.buttons === 1 || typeof event.buttons === 'undefined' && event.which === 1) {\n      let progress = Math.max(0, Math.min(1.0,\n        (event.clientX - this.elementLinks.progress.getBoundingClientRect().left) / this.elementLinks.progress.clientWidth\n      ));\n      this.player.setCurrentTime(progress * 100 + '%');\n    }\n  };\n\n  private handleTouchProgress = (event: TouchEvent) => {\n    let progress = Math.max(0, Math.min(1.0,\n      (event.targetTouches[0].clientX - this.elementLinks.progress.getBoundingClientRect().left) / this.elementLinks.progress.clientWidth\n    ));\n    this.player.setCurrentTime(progress * 100 + '%');\n  }\n\n  public destroy() {\n    this.rootElement.parentElement.removeChild(this.rootElement);\n  }\n}\n","export default function returntypeof<RT>(expression: (...params: any[]) => RT): RT {\n  return {} as RT;\n}","module.exports = \"<c-player loaded> <div> <div class=cp-mainbody> <div class=cp-lyric style=position:absolute;top:0;left:0;z-index:1> <span class=cp-lyric-text></span> </div> <div class=cp-poster> </div> </div> <div class=\\\"cp-drop-down-menu cp-drop-down-menu-info\\\" style=margin:10px;width:100%;position:absolute;bottom:122px;left:0;z-index:1> <ul class=cp-playlist> </ul> <p>\\\"Click here to show playlist. (点击显示歌单)\\\" </p></div> <div class=cp-mainbody> <div class=cp-audio-info style=width:100%;text-align:center;margin:10px;font-size:10pt> <span class=cp-audio-title></span> - <span class=cp-audio-artist></span> </div> <div class=cp-center-container> <div class=cp-controls> <a class=cp-prev-button> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink class=cp-prev-icon viewBox=\\\"0 0 1024 1024\\\" version=1.1> <path d=\\\"M943.705 11.8c10.321 5.183 17.325 15.601 17.534 27.675l-0.004 938.318c-0.167 12.186-7.229 22.684-17.457 27.782-4.857 2.548-10.527 4.026-16.543 4.026a35.75 35.75 0 0 1-18.217-4.955l-716.617-469c-9.689-5.299-16.151-15.421-16.151-27.053 0-11.63 6.462-21.753 15.991-26.972L909.186 12.666c5.177-3.048 11.404-4.848 18.052-4.848a35.878 35.878 0 0 1 16.665 4.077z\\\"/> <path d=\\\"M228.435 77.809v868.712c-3.889 42.573-39.416 75.664-82.673 75.664s-78.784-33.091-82.649-75.34l-0.024-869.036C65.9 34.259 101.911 0 145.924 0s80.024 34.259 82.822 77.564z\\\"/> </svg> </a> <a class=cp-play-button> <span class=\\\"cp-play-icon cp-play-icon-paused\\\"> <div class=cp-play-icon-left></div> <div class=cp-play-icon-right></div> <div class=cp-play-icon-triangle-1></div> <div class=cp-play-icon-triangle-2></div> </span> </a> <a class=cp-next-button> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink class=cp-next-icon viewBox=\\\"0 0 1024 1024\\\" version=1.1> <path d=\\\"M943.705 11.8c10.321 5.183 17.325 15.601 17.534 27.675l-0.004 938.318c-0.167 12.186-7.229 22.684-17.457 27.782-4.857 2.548-10.527 4.026-16.543 4.026a35.75 35.75 0 0 1-18.217-4.955l-716.617-469c-9.689-5.299-16.151-15.421-16.151-27.053 0-11.63 6.462-21.753 15.991-26.972L909.186 12.666c5.177-3.048 11.404-4.848 18.052-4.848a35.878 35.878 0 0 1 16.665 4.077z\\\"/> <path d=\\\"M228.435 77.809v868.712c-3.889 42.573-39.416 75.664-82.673 75.664s-78.784-33.091-82.649-75.34l-0.024-869.036C65.9 34.259 101.911 0 145.924 0s80.024 34.259 82.822 77.564z\\\"/> </svg> </a> </div> </div> <a class=cp-volume-button> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink class=\\\"cp-volume-icon cp-icon-dark\\\" viewBox=\\\"0 200 1024 650\\\" version=1.1> <path d=\\\"M607.869008 364.026176l-49.340512 49.340528c25.412064 25.160448 41.150352 60.055392 41.150352 98.637648 0 38.573568-15.738288 73.477184-41.150352 98.62896l49.340512 49.340512c37.836112-37.888176 61.244-90.195872 61.244-147.969488 0-57.782272-23.407888-110.081328-61.244-147.978176z\\\"/> <path d=\\\"M807.937968 512c0-96.086912-39.050752-183.055296-102.134064-245.904368L656.95792 314.9416c50.398992 50.45104 81.563248 120.1108 81.563248 197.0584 0 76.938912-31.172944 146.598672-81.563248 197.0584l48.845984 48.845968C768.887216 695.055296 807.937968 608.086896 807.937968 512z\\\"/> <path d=\\\"M946.780288 512.004336c0-134.434896-54.598176-256.107376-142.807248-344.082192l-49.088912 49.088896c75.65488 75.411952 122.470672 179.732384 122.470672 294.993296 0 115.252224-46.815792 219.581328-122.470672 294.984608l49.088912 49.088912c88.209072-87.966144 142.807248-209.647312 142.807248-344.07352z\\\"/> <path d=\\\"M247.605111 659.304938 458.566804 854.551527 458.566804 169.448479 251.58222 364.704275 53.490893 364.704275 53.490893 659.304938Z\\\"/> </svg> <div class=cp-volume-container> <div> <span class=cp-volume-controller> <span class=cp-volume-fill></span> <span class=cp-volume-controller-button></span> </span> </div> </div> </a> <a class=cp-list-button> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink class=\\\"cp-list-icon cp-icon-dark\\\" viewBox=\\\"0 0 1024 1024\\\" version=1.1> <path d=\\\"M168.57 820.6c0 14.34-9.56 23.89-23.89 23.89H96.89c-14.34 0-23.89-9.55-23.89-23.89v-47.79c0-14.34 9.56-23.89 23.89-23.89h47.79c14.34 0 23.89 9.56 23.89 23.89z m0-284.33c0 14.34-9.56 23.89-23.89 23.89H96.89c-14.34 0-23.89-9.56-23.89-23.89v-47.79c0-14.34 9.56-23.89 23.89-23.89h47.79c14.34 0 23.89 9.56 23.89 23.89z m0-286.72c0 14.34-9.56 23.89-23.89 23.89H96.89c-14.34 0-23.89-9.56-23.89-23.89v-47.79c0-14.34 9.56-23.89 23.89-23.89h47.79c14.34 0 23.89 9.56 23.89 23.89zM969 820.6c0 14.34-7.17 23.89-21.5 23.89H314.32c-14.34 0-23.89-9.56-23.89-23.89v-47.79c0-14.34 9.56-23.89 23.89-23.89H945.1c14.34 0 23.89 9.56 23.89 23.89z m0-284.33c0 14.34-7.17 23.89-21.5 23.89H314.32c-14.34 0-23.89-9.56-23.89-23.89v-47.79c0-14.34 9.56-23.89 23.89-23.89H945.1c14.34 0 23.89 9.56 23.89 23.89z m0-286.72c0 14.34-7.17 23.89-21.5 23.89H314.32c-14.34 0-23.89-9.56-23.89-23.89v-47.79c0-14.34 9.56-23.89 23.89-23.89H945.1c14.34 0 23.89 9.56 23.89 23.89z\\\"/> </svg> </a> <a class=cp-mode-button data-mode=listloop> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink class=\\\"cp-loop-icon cp-icon-dark\\\" viewBox=\\\"0 0 1024 1024\\\" version=1.1> <path d=\\\"M157 624c17.3-4.8 27.4-22.7 22.6-40-5.4-19.4-8.1-39.5-8.1-59.9 0-123.1 100.1-223.2 223.2-223.2h302.4v57.6c0 18.5 12.9 25.6 28.6 15.9l138.6-85.8c15.7-9.7 15.9-25.9 0.3-35.9l-139.2-89.9c-15.5-10-28.2-3.1-28.2 15.4V236H394.7c-77 0-149.3 30-203.8 84.4-54.4 54.4-84.4 126.8-84.4 203.8 0 26.2 3.5 52.2 10.5 77.3 4 14.4 17.1 23.8 31.3 23.8 2.9-0.1 5.8-0.4 8.7-1.3z m748.7-202.1c-4-14.4-17.1-23.8-31.3-23.8-2.9 0-5.8 0.4-8.7 1.2-17.3 4.8-27.4 22.7-22.6 40 5.4 19.4 8.1 39.5 8.1 59.9 0 123.1-100.1 223.2-223.2 223.2H325.5v-57.6c0-18.5-12.9-25.6-28.6-15.9l-138.6 85.8c-15.7 9.7-15.9 25.9-0.3 35.9l139.2 89.9c15.5 10 28.2 3.1 28.2-15.4v-57.9h302.4c77 0 149.3-30 203.8-84.4C886 648.4 916 576 916 499c0.1-26-3.4-52-10.3-77.1z\\\"/> </svg> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink class=\\\"cp-single-icon cp-icon-dark\\\" viewBox=\\\"0 0 1024 1024\\\" version=1.1> <path d=\\\"M102.5 653.9c17.3-4.8 27.4-22.7 22.6-40-5.4-19.4-8.1-43.4-8.1-63.8C117 427 217.1 323 340.2 323h132.3c1.4-20 5.4-40 11.7-60h-144c-77 0-149.4 31.4-203.8 85.8C82 403.2 52 476.3 52 553.3c0 26.2 3.5 52.6 10.5 77.6 4 14.4 17.1 24 31.3 24 2.9 0 5.8-0.2 8.7-1z m471 109.1H272v-68.3c0-18.5-13.3-25.6-29-15.9l-138.8 85.8c-15.7 9.7-16 25.9-0.5 35.9l139.7 89.9c15.5 10 28.7 3.1 28.7-15.4v-52h301.5c77 0 149.4-32.9 203.8-87.3 34.7-34.7 59.5-78.2 72.9-124-24 9-49.6 19.4-76.2 21.5-36.5 74-112.7 129.8-200.6 129.8zM752 127.9c-121.5 0-220 98.5-220 220s98.5 220 220 220 220-98.5 220-220-98.5-220-220-220zM792 463h-40V298.7c-20 14-36.2 24.5-60 31.3v-41.8c11.5-2.9 23.8-10.4 36.7-17.6 13-7.9 23.8-7.7 32.4-27.7H792V463z\\\"/> </svg> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink class=\\\"cp-random-icon cp-icon-dark\\\" viewBox=\\\"0 0 1024 1024\\\" version=1.1> <path d=\\\"M112 405.2h218.2c7.1 0 21 5.8 26 10.8l38 38.6c13.6 13.8 35.7 13.9 49.5 0.4 13.8-13.6 13.9-35.7 0.4-49.5l-38-38.6c-18.1-18.4-50-31.7-75.8-31.7H112c-19.3 0-35 15.7-35 35 0 19.4 15.7 35 35 35z m623.2 0h62.4v42.6c0 10.9 7.5 15 16.7 8.8l125.8-83.9c9.3-6.2 9.2-16.2 0-22.4l-125.8-83.9c-9.3-6.2-16.7-2.2-16.7 8.8v60h-62.4c-53.5 0-123.5 29.3-161 67.4L393.9 585.7c-24.3 24.7-76.4 46.5-111.1 46.5H112c-19.3 0-35 15.7-35 35s15.7 35 35 35h170.7c53.5 0 123.5-29.3 161-67.4L624 451.7c24.4-24.7 76.4-46.5 111.2-46.5z m79.1 161.2c-9.3-6.2-16.7-2.2-16.7 8.8v57H681.9c-6.9 0-20.2-5.6-25-10.4l-37.3-37.9c-13.6-13.8-35.7-13.9-49.5-0.4-13.8 13.6-13.9 35.7-0.4 49.5l37.3 37.9c18 18.2 49.3 31.3 74.9 31.3h115.6v45.6c0 10.9 7.5 15 16.7 8.8L940 672.7c9.3-6.2 9.2-16.2 0-22.4l-125.7-83.9z\\\"/> </svg> </a> <div class=cp-progress-container> <span class=cp-progress-current-time>07:24</span> <div class=cp-progress> <div class=cp-progress-fill></div> <span class=cp-progress-button></span> </div> <span class=cp-progress-duration>24:50</span> </div> </div> </div> </c-player> \";","module.exports = \"<svg class=cp-play-icon viewBox=\\\"0 0 1024 1024\\\" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink width=200 height=200> <path d=\\\"M64.279417 58.009844c0-21.327148 10.62092-39.540533 29.218194-50.118799a56.858178 56.858178 0 0 1 58.265769 0.255926l779.336659 453.969682c18.341348 10.706229 28.748996 28.748996 28.748996 49.905527 0 21.113877-10.407648 39.156645-28.748996 49.820219L151.76338 1015.854735a56.943486 56.943486 0 0 1-58.265769 0.255926 56.303672 56.303672 0 0 1-29.218194-50.161453V58.009844z\\\"> </path> </svg>\";","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../defaultposter.jpg\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\nexports.push([module.id, \"@-webkit-keyframes miss-pointer-event{0%{pointer-events:none}50%{pointer-events:none}100%{pointer-events:auto}}@keyframes miss-pointer-event{0%{pointer-events:none}50%{pointer-events:none}100%{pointer-events:auto}}c-player{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative;font-size:12px;width:300px;text-align:left}c-player .cp-mainbody{margin:5px 10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;min-height:50px;min-width:300px;-ms-flex-wrap:wrap;flex-wrap:wrap;background-color:#fff;position:relative;z-index:1;border-radius:.33333em;-webkit-box-shadow:rgba(0,0,0,0.117647) 0px 1px 6px,rgba(0,0,0,0.117647) 0px 1px 4px;box-shadow:rgba(0,0,0,0.117647) 0px 1px 6px,rgba(0,0,0,0.117647) 0px 1px 4px}c-player .cp-mainbody>*{margin-right:.58333em}c-player .cp-mainbody:hover+.cp-drop-down-menu.cp-drop-down-menu-info{height:2.08333em}c-player .cp-drop-down-menu{display:block;text-align:center;font-size:1em;line-height:2.08333em;background-color:rgba(255,255,255,0.6);position:relative;z-index:0;height:0em;overflow:hidden;border-bottom-right-radius:.33333em;border-bottom-left-radius:.33333em;-webkit-box-shadow:rgba(0,0,0,0.117647) 0px 1px 6px,rgba(0,0,0,0.117647) 0px 1px 4px;box-shadow:rgba(0,0,0,0.117647) 0px 1px 6px,rgba(0,0,0,0.117647) 0px 1px 4px;-webkit-transition:height 0.25s ease 0.1s,-webkit-transform 0.25s ease 0.1s;transition:height 0.25s ease 0.1s,-webkit-transform 0.25s ease 0.1s;transition:transform 0.25s ease 0.1s,height 0.25s ease 0.1s;transition:transform 0.25s ease 0.1s,height 0.25s ease 0.1s,-webkit-transform 0.25s ease 0.1s}c-player .cp-drop-down-menu p{-webkit-transition:opacity 0.25s ease 0s;transition:opacity 0.25s ease 0s;margin:0}c-player .cp-drop-down-menu span.cp-audio-artist{opacity:0.6;max-width:8.33333em;overflow:hidden;text-overflow:ellipsis}c-player .cp-drop-down-menu.cp-drop-down-menu-top{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}c-player .cp-drop-down-menu.cp-drop-down-menu-none{display:none}c-player .cp-drop-down-menu.cp-drop-down-menu-bottom{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}c-player .cp-drop-down-menu.cp-drop-down-menu-info .cp-playlist{display:none}c-player .cp-drop-down-menu.cp-drop-down-menu-info:hover{height:2.08333em}c-player .cp-drop-down-menu.cp-drop-down-menu-playlist .cp-audio-info{display:none}c-player .cp-drop-down-menu.cp-drop-down-menu-playlist{height:auto}c-player .cp-playlist{margin:0em;padding:0em;list-style:none;text-align:left}c-player .cp-playlist li{padding:0em .83333em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}c-player .cp-playlist li .cp-play-icon{display:inline-block;width:1em;height:1em;vertical-align:text-top;margin:0px .41667em 0 0;fill:rgba(183,28,28,0.8)}c-player .cp-playlist-artist{opacity:0.46}c-player .cp-center-container{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;position:relative;height:50px;pointer-events:auto}c-player .cp-center-container .cp-controls{opacity:1}c-player .cp-controls{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;width:100%;height:100%;z-index:1;-webkit-transition:opacity 0.25s ease;transition:opacity 0.25s ease}c-player .cp-controls>*{margin-right:1.25em;-webkit-tap-highlight-color:transparent}c-player .cp-lyric{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;width:calc(100% - 1.66667em);height:300px;overflow:hidden;margin:.41667em .83333em;font-size:1.16667em}c-player .cp-lyric-text{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;white-space:nowrap;text-align:center;color:#424242;line-height:2;font-size:12pt}c-player .cp-lyric-text .cp-lyric-text-sub{display:block;color:#757575;font-size:.83333em;font-weight:550}c-player .cp-lyric-text .cp-lyric-text-zoomout{font-size:1em;-webkit-transform:translateY(.08333em);transform:translateY(.08333em);display:inline-block;margin:0px .14286em}c-player .cp-lyric-text .cp-lyric-smalltext-sub{display:block;color:#BDBDBD;font-size:.66667em}c-player .cp-lyric-text .cp-lyric-text{display:block;color:#757575;font-size:12pt;font-weight:550}c-player .cp-lyric-text .cp-lyric-smalltext{display:block;color:#BDBDBD;font-size:10pt}c-player .cp-progress-container{-ms-flex-preferred-size:100%;flex-basis:100%;margin:0em;opacity:0.8;position:absolute;width:100%;bottom:0px;border-bottom-left-radius:.33333em;border-bottom-right-radius:.33333em;overflow:hidden;pointer-events:none}c-player .cp-progress-container>span{display:none}c-player.cp-big .cp-progress-container{position:relative;border-bottom-left-radius:0;border-bottom-right-radius:0;height:2.91667em;padding:0 .41667em;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;pointer-events:auto;color:#424242}c-player.cp-big .cp-progress-container>span{display:inline;margin:0 1.25em;font-size:0.8em}c-player .cp-progress{overflow:hidden}c-player .cp-progress .cp-progress-fill{display:block;height:.16667em;background:#F44336}c-player .cp-progress .cp-progress-button{display:none}c-player.cp-big .cp-progress{overflow:visible}c-player .cp-poster{width:300px;height:300px;background-repeat:repeat;background-position:50% 50%;background-size:cover;background-color:#fafafa;background-origin:padding-box;background-attachment:scroll;border-right:.08333em solid #eee;background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");border-top-left-radius:.33333em;border-bottom-left-radius:.33333em;overflow:hidden;-webkit-transition:opacity 3s cubic-bezier(0.01, 1.35, 0.43, 0.88);transition:opacity 3s cubic-bezier(0.01, 1.35, 0.43, 0.88);opacity:0.1}c-player .cp-poster video{width:100%;height:100%}c-player.cp-big .cp-poster{-ms-flex-preferred-size:100%;flex-basis:100%;width:300px;height:300px;border-right:none;border-bottom:.08333em solid #eee;margin:0;border-top-left-radius:.33333em;border-bottom-left-radius:0;border-top-right-radius:.33333em;border-bottom-right-radius:0}c-player .cp-play-icon{width:1.04167em;height:1.04167em;display:block;overflow:hidden;position:relative}c-player .cp-play-icon .cp-play-icon-left{height:100%;float:left;background-color:#F44336;width:36%;-webkit-transition:width 0.25s ease;transition:width 0.25s ease;overflow:hidden}c-player .cp-play-icon .cp-play-icon-right{height:100%;float:right;background-color:#F44336;width:36%;-webkit-transition:width 0.25s ease;transition:width 0.25s ease;overflow:hidden}c-player .cp-play-icon .cp-play-icon-triangle-1{-webkit-transform:translate(0, -100%);transform:translate(0, -100%)}c-player .cp-play-icon .cp-play-icon-triangle-2{-webkit-transform:translate(0, 100%);transform:translate(0, 100%)}c-player .cp-play-icon .cp-play-icon-triangle-1,c-player .cp-play-icon .cp-play-icon-triangle-2{position:absolute;top:0;right:0;background-color:transparent;width:0;height:0;border-right:1.04167em solid #fff;border-top:.52083em solid transparent;border-bottom:.52083em solid transparent;-webkit-transition:-webkit-transform 0.25s ease;transition:-webkit-transform 0.25s ease;transition:transform 0.25s ease;transition:transform 0.25s ease, -webkit-transform 0.25s ease}c-player .cp-play-icon.cp-play-icon-paused .cp-play-icon-left{width:50%}c-player .cp-play-icon.cp-play-icon-paused .cp-play-icon-right{width:50%}c-player .cp-play-icon.cp-play-icon-paused .cp-play-icon-triangle-1{-webkit-transform:translate(0, -50%);transform:translate(0, -50%)}c-player .cp-play-icon.cp-play-icon-paused .cp-play-icon-triangle-2{-webkit-transform:translate(0, 50%);transform:translate(0, 50%)}c-player .cp-play-icon.cp-play-icon-hover .cp-play-icon-left,c-player .cp-play-button:hover .cp-play-icon-left{background-color:#B71C1C}c-player .cp-play-icon.cp-play-icon-hover .cp-play-icon-right,c-player .cp-play-button:hover .cp-play-icon-right{background-color:#B71C1C}c-player .cp-play-button,c-player .cp-volume-button,c-player .cp-prev-button,c-player .cp-list-button,c-player .cp-mode-button,c-player .cp-next-button{display:inline-block;width:1.04167em;height:1.04167em;cursor:pointer}c-player .cp-volume-button{width:1.66667em;position:relative}c-player .cp-list-button{width:1.45833em;height:1.45833em}c-player .cp-mode-button{width:1.58333em;height:1.58333em}c-player .cp-play-button{height:2.5em;width:2.5em;border:#F44336 solid 1px;border-radius:50%}c-player .cp-play-button .cp-play-icon.cp-play-icon-paused{margin:.6875em}c-player .cp-play-button .cp-play-icon{margin:.6875em}c-player .cp-play-button:hover{border-color:#B71C1C}c-player .cp-icon,c-player .cp-prev-icon,c-player .cp-next-icon,c-player .cp-volume-icon,c-player .cp-random-icon,c-player .cp-single-icon,c-player .cp-loop-icon,c-player .cp-list-icon{height:1.04167em;width:1.04167em}c-player .cp-icon path,c-player .cp-prev-icon path,c-player .cp-next-icon path,c-player .cp-volume-icon path,c-player .cp-random-icon path,c-player .cp-single-icon path,c-player .cp-loop-icon path,c-player .cp-list-icon path{fill:#F44336}c-player .cp-icon:hover path,c-player .cp-prev-icon:hover path,c-player .cp-next-icon:hover path,c-player .cp-volume-icon:hover path,c-player .cp-random-icon:hover path,c-player .cp-single-icon:hover path,c-player .cp-loop-icon:hover path,c-player .cp-list-icon:hover path{fill:#B71C1C}c-player .cp-icon.cp-icon-dark path,c-player .cp-icon-dark.cp-prev-icon path,c-player .cp-icon-dark.cp-next-icon path,c-player .cp-icon-dark.cp-volume-icon path,c-player .cp-icon-dark.cp-random-icon path,c-player .cp-icon-dark.cp-single-icon path,c-player .cp-icon-dark.cp-loop-icon path,c-player .cp-icon-dark.cp-list-icon path{fill:#757575}c-player .cp-icon.cp-icon-dark:hover path,c-player .cp-icon-dark.cp-prev-icon:hover path,c-player .cp-icon-dark.cp-next-icon:hover path,c-player .cp-icon-dark.cp-volume-icon:hover path,c-player .cp-icon-dark.cp-random-icon:hover path,c-player .cp-icon-dark.cp-single-icon:hover path,c-player .cp-icon-dark.cp-loop-icon:hover path,c-player .cp-icon-dark.cp-list-icon:hover path{fill:#616161}c-player .cp-next-icon{-webkit-transform:rotateZ(180deg);transform:rotateZ(180deg)}c-player .cp-volume-icon{width:1.66667em}c-player .cp-random-icon,c-player .cp-single-icon,c-player .cp-loop-icon{width:1.58333em;height:1.58333em;display:none}c-player .cp-mode-button[data-mode=listloop] .cp-loop-icon,c-player .cp-mode-button[data-mode=singlecycle] .cp-single-icon,c-player .cp-mode-button[data-mode=listrandom] .cp-random-icon{display:block}c-player .cp-list-icon{width:1.45833em;height:1.45833em}c-player .cp-volume-container{position:absolute;left:50%;top:-7px;height:2.08333em;width:10.83333em;-webkit-transform:translateX(-50%) translateY(-120%);transform:translateX(-50%) translateY(-120%);z-index:1;visibility:hidden;text-align:left;border-radius:.33333em;padding:0 15px;background:#fff;-webkit-box-shadow:rgba(0,0,0,0.117647) 0px 1px 6px,rgba(0,0,0,0.117647) 0px 1px 4px;box-shadow:rgba(0,0,0,0.117647) 0px 1px 6px,rgba(0,0,0,0.117647) 0px 1px 4px}c-player .cp-volume-container.cp-volume-container-show{visibility:visible}c-player .cp-volume-container:hover{visibility:visible}c-player .cp-volume-container:before{content:'';width:0em;height:0em;display:inline-block;border-top:.83333em solid #fff;border-left:.83333em solid transparent;border-right:.83333em solid transparent;position:absolute;bottom:0em;left:50%;-webkit-transform:translate(-50%, 100%);transform:translate(-50%, 100%)}c-player .cp-volume-container:after{content:'';width:1.17851em;height:1.17851em;display:inline-block;position:absolute;bottom:0em;left:50%;-webkit-transform:translate(-50%, 50%) rotate(45deg);transform:translate(-50%, 50%) rotate(45deg);-webkit-box-shadow:rgba(0,0,0,0.117647) 0px 1px 6px,rgba(0,0,0,0.117647) 0px 1px 4px;box-shadow:rgba(0,0,0,0.117647) 0px 1px 6px,rgba(0,0,0,0.117647) 0px 1px 4px}c-player .cp-volume-container>div{width:100%;height:100%;background:#fff;border-radius:.33333em;position:relative;z-index:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}c-player.cp-big .cp-progress,c-player .cp-volume-controller,c-player.cp-dark.cp-big .cp-progress{display:inline-block;height:.33333em;width:100%;border-radius:.16667em;background:#BDBDBD;line-height:0;-ms-touch-action:none;touch-action:none;position:relative}c-player.cp-big .cp-progress .cp-progress-fill,c-player .cp-volume-controller .cp-volume-fill,c-player.cp-dark.cp-big .cp-progress .cp-volume-controller .cp-volume-fill,c-player.cp-dark.cp-big .cp-volume-controller .cp-progress .cp-volume-fill,c-player.cp-dark.cp-big .cp-progress .cp-progress-fill{display:inline-block;height:100%;width:100%;border-radius:.16667em;background:#616161}c-player.cp-big .cp-progress .cp-progress-button,c-player .cp-volume-controller .cp-volume-controller-button,c-player.cp-dark.cp-big .cp-progress .cp-volume-controller .cp-volume-controller-button,c-player.cp-dark.cp-big .cp-volume-controller .cp-progress .cp-volume-controller-button,c-player.cp-dark.cp-big .cp-progress .cp-progress-button{height:1.25em;width:1.25em;position:absolute;right:0em;top:-.45833em;display:inline-block;border-radius:50%;border:.16667em solid #fff;background:#757575;-webkit-transform:translateX(50%);transform:translateX(50%)}c-player.cp-big .cp-progress .cp-progress-button:hover,c-player .cp-volume-controller .cp-volume-controller-button:hover{background:#616161}c-player svg{vertical-align:top}c-player *,c-player *::before,c-player *::after{-webkit-box-sizing:border-box;box-sizing:border-box}c-player.cp-dark{color:#bbb}c-player.cp-dark .cp-mainbody{background-color:#222}c-player.cp-dark .cp-drop-down-menu{background-color:rgba(34,34,34,0.9)}c-player.cp-dark .cp-playlist li .cp-play-icon{fill:rgba(189,189,189,0.8)}c-player.cp-dark .cp-lyric-text{color:#bbb}c-player.cp-dark .cp-lyric-text .cp-lyric-text-sub{color:#757575}c-player.cp-dark .cp-progress .cp-progress-fill{background:#BDBDBD}c-player.cp-dark .cp-poster{background-color:#333;border-right-color:#333}c-player.cp-dark.cp-big .cp-poster{border-bottom-color:#333}c-player.cp-dark.cp-big .cp-progress-container{color:#bbb}c-player.cp-dark.cp-big .cp-progress{overflow:visible}c-player.cp-dark .cp-play-icon .cp-play-icon-left{background-color:#a1a1a1}c-player.cp-dark .cp-play-icon .cp-play-icon-right{background-color:#a1a1a1}c-player.cp-dark .cp-play-icon .cp-play-icon-triangle-1,c-player.cp-dark .cp-play-icon .cp-play-icon-triangle-2{border-right-color:#222}c-player.cp-dark .cp-play-icon.cp-play-icon-hover .cp-play-icon-left,c-player.cp-dark .cp-play-button:hover .cp-play-icon-left{background-color:#BDBDBD}c-player.cp-dark .cp-play-icon.cp-play-icon-hover .cp-play-icon-right,c-player.cp-dark .cp-play-button:hover .cp-play-icon-right{background-color:#BDBDBD}c-player.cp-dark .cp-play-button{border-color:#a1a1a1}c-player.cp-dark .cp-play-button:hover{border-color:#BDBDBD}c-player.cp-dark .cp-icon path,c-player.cp-dark .cp-prev-icon path,c-player.cp-dark .cp-next-icon path,c-player.cp-dark .cp-volume-icon path,c-player.cp-dark .cp-random-icon path,c-player.cp-dark .cp-single-icon path,c-player.cp-dark .cp-loop-icon path,c-player.cp-dark .cp-list-icon path{fill:#a1a1a1}c-player.cp-dark .cp-icon:hover path,c-player.cp-dark .cp-prev-icon:hover path,c-player.cp-dark .cp-next-icon:hover path,c-player.cp-dark .cp-volume-icon:hover path,c-player.cp-dark .cp-random-icon:hover path,c-player.cp-dark .cp-single-icon:hover path,c-player.cp-dark .cp-loop-icon:hover path,c-player.cp-dark .cp-list-icon:hover path{fill:#BDBDBD}c-player.cp-dark .cp-icon.cp-icon-dark path,c-player.cp-dark .cp-icon-dark.cp-prev-icon path,c-player.cp-dark .cp-icon-dark.cp-next-icon path,c-player.cp-dark .cp-icon-dark.cp-volume-icon path,c-player.cp-dark .cp-icon-dark.cp-random-icon path,c-player.cp-dark .cp-icon-dark.cp-single-icon path,c-player.cp-dark .cp-icon-dark.cp-loop-icon path,c-player.cp-dark .cp-icon-dark.cp-list-icon path{fill:#757575}c-player.cp-dark .cp-icon.cp-icon-dark:hover path,c-player.cp-dark .cp-icon-dark.cp-prev-icon:hover path,c-player.cp-dark .cp-icon-dark.cp-next-icon:hover path,c-player.cp-dark .cp-icon-dark.cp-volume-icon:hover path,c-player.cp-dark .cp-icon-dark.cp-random-icon:hover path,c-player.cp-dark .cp-icon-dark.cp-single-icon:hover path,c-player.cp-dark .cp-icon-dark.cp-loop-icon:hover path,c-player.cp-dark .cp-icon-dark.cp-list-icon:hover path{fill:#616161}c-player.cp-dark .cp-volume-container{background:#222}c-player.cp-dark .cp-volume-container:before{border-top-color:#222}c-player.cp-dark .cp-volume-container>div{background:#222}c-player.cp-dark c-player.cp-big .cp-progress,c-player.cp-big c-player.cp-dark .cp-progress,c-player.cp-dark .cp-volume-controller,c-player.cp-dark.cp-big .cp-progress{background:#616161}c-player.cp-dark c-player.cp-big .cp-progress .cp-progress-fill,c-player.cp-big c-player.cp-dark .cp-progress .cp-progress-fill,c-player.cp-big .cp-progress c-player.cp-dark .cp-volume-controller .cp-progress-fill,c-player.cp-dark .cp-volume-controller .cp-volume-fill,c-player.cp-dark.cp-big .cp-progress .cp-progress-fill{background:#BDBDBD}c-player.cp-dark c-player.cp-big .cp-progress .cp-progress-button,c-player.cp-big c-player.cp-dark .cp-progress .cp-progress-button,c-player.cp-big .cp-progress c-player.cp-dark .cp-volume-controller .cp-progress-button,c-player.cp-dark .cp-volume-controller .cp-volume-controller-button,c-player.cp-dark.cp-big .cp-progress .cp-progress-button{border-color:#222;background:#757575}c-player.cp-dark c-player.cp-big .cp-progress .cp-progress-button:hover,c-player.cp-big c-player.cp-dark .cp-progress .cp-progress-button:hover,c-player.cp-big .cp-progress c-player.cp-dark .cp-volume-controller .cp-progress-button:hover,c-player.cp-dark .cp-volume-controller .cp-volume-controller-button:hover,c-player.cp-dark.cp-big .cp-progress .cp-progress-button:hover{background:#BDBDBD}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};"],"sourceRoot":""}